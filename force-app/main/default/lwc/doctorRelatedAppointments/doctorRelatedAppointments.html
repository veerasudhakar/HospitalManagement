<template>

    <lightning-card title="Doctor Related Patients">

        <div>
            <label for="filter">Filter By : </label>
            <select id="filter" onchange={handleFilterChange}>
                <option value="All">All</option>
                <option value="today">Today</option>
                <option value="week">This Week</option>
                <option value="month">This Month</option>
            </select>
        </div>

        <div class="slds-m-aroud_medium">
            <lightning-input style="width: 1200px; margin-left: 40px;" type="text" value={searchCriteria} onchange={handleSearchChange} placeholder="search"></lightning-input>
        </div>

        
            <div class="slds-grid slds-gutters">
                <div class="slds-col">
                  <span>
                    <div class="slds-m-around_medium">
        <table class="slds-table slds-table_cell-buffer slds-table_bordered">

                <thead>

                    <tr>

                        <th>Name</th>

                        <th>Patient Name</th>

                        <th>Email</th>

                        <th>Appointment Date</th>

                        <th>Slots Available</th>

                        <th>Status</th>

                    </tr>

                </thead>


                <tbody>

                    <template for:each={relatedData} for:item="record">
                      
                        
                        <tr key={record.Id}> 

                            <td><a onclick={appointmentHandleClick} data-recordid={record.Id}>{record.Name}</a></td>

                            <td>{record.Contact__r.Name}</td>

                            <td>{record.Contact__r.Email}</td>

                            <td>{record.Appointment_Date__c}</td>

                            <td>{record.SlotsAvailable__c}</td>

                            <td>{record.Status__c}</td>

                        </tr>
                   
                    </template>

                </tbody>


            </table>
            </div>
            </span>
            </div>
            </div>

            

            <div class="slds-grid slds-gutters">
                <div class="slds-col">
                  <span>
                    <lightning-record-view-form record-id={recordIdForm} object-api-name="Appointment__c">
                        <div class="slds-grid">
                            <div class="slds-col slds-size_1-of-2">
                                <lightning-output-field field-name="Name"></lightning-output-field>
                                <lightning-output-field field-name="Contact__c"></lightning-output-field>
                               
                                
                                
                            </div>
                            <div class="slds-col slds-size_1-of-2">
                               <lightning-output-field field-name="Appointment_Date__c"></lightning-output-field>
                                <lightning-output-field field-name="SlotsAvailable__c"></lightning-output-field>
                                <lightning-output-field field-name="Status__c"></lightning-output-field>
                            </div>
                        </div>
                    </lightning-record-view-form> 
                  </span>
                </div>
                </div>

       </lightning-card>

</template>